<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="bootstrap.min.css">
<script src="angular.min.js"></script>
<script src="Task.js"></script>
</head>
<body ng-app="myApp" ng-controller="taskCtrl">

<div class="container">

<h3>Tasks</h3>
<hr>
<button class="btn btn-success" ng-click="editTask('')">
创建新用户
</button>
<hr>
<table class="table table-striped">
  <thead>
    <tr>
      <th></th>
      <th>编号</th>
      <th>项目</th>
      <th>需求人</th>
      <th>负责人</th>
      <th>状态</th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="task in tasks">
      <td>
        <button class="btn" ng-click="editTask(task.id)">
          编辑
        </button>
                <button class="btn" ng-click="deleteTask($index)">
          删除
        </button> 
      </td>
      <td>{{ task.id }}</td>   
      <td>{{ task.taskname }}</td>
      <td>{{ task.taskrequester }}</td>
      <td>{{ task.taskowner }}</td>
      <td>{{ task.taskstatus }}</td>
    </tr>
  </tbody>
</table>

<h3 ng-show="action=='new'">创建新用户:</h3>
<h3 ng-show="action=='update'">编辑用户:</h3>

<form class="form-horizontal" ng-show="action!=''">
  <div class="form-group">
    <label class="col-sm-2 control-label">编号</label>
    <div class="col-sm-10">
    <input type="text" ng-model="id" ng-disabled="!edit" >
    </div>
  </div> 
  <div class="form-group">
    <label class="col-sm-2 control-label">项目</label>
    <div class="col-sm-10">
    <input type="text" ng-model="taskname" placeholder="项目">
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label">需求人</label>
    <div class="col-sm-10">
    <input type="text" ng-model="taskrequester" placeholder="需求人">
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label">负责人</label>
    <div class="col-sm-10">
    <input type="text" ng-model="taskowner" placeholder="负责人">
    </div>
  </div>
    <div class="form-group">
    <label class="col-sm-2 control-label">状态</label>
    <div class="col-sm-10">
    <input type="text" ng-model="taskstatus" placeholder="状态">
    </div>
  </div>
  <button class="btn btn-success" ng-disabled="incomplete" ng-click="saveTask(id)">保存</button>
</form>
</div>
</body>
</html>